# Ozbend_JewelryRender


Установка
-

- Скачать zip-файл с дистрибутивом
- В Blender: User Preferences - Add-ons - Install from File - указать скачанный архив


Использование
-

1. Рядом с сохраненным файлом сцены должен лежать файй с настройками options.json

    Поля заполняются следующим образом:

    "resolution_x", "resolution_y": разрешение итогового рендера

    "samples": самплинг итогового рендера

    "source_obj_dir": полный путь к директории с файлами *.obj

    "rendered_obj_dir": полный путь к директории в которую будут перемещены *.obj после обработки

    "dest_dir": полный путь к директории, в которую будут сохранены готовые рендеры

    "correction":

    - "scale": указание масштаба, который будет пременен к мешам, полученным из  *.obj передр рендером
    - "translate": указание смещения, который будет пременен к мешам, полученным из  *.obj передр рендером
    - "rotate": указание поворота, который будет пременен к мешам, полученным из  *.obj передр рендером

    "gravi_mesh_name": имя меша-гравировки в файле *.obj

    Файл с настройками редактируется, как обычный текстовый файл.

2. После установки аддона, в Blender в панели Render появляется дополнительная подпанель JewelryRender

    Нажатие на кнопку Start Render в этой панели запускает обработку файлов *.obj


Создание материалов в сцене
-

Каждый созданный в сцене материал должен иметь в своем имени идентификатор:

Первые 5 символов имени отводятся под идентификатор: 3 буквы, 2 цифры.

Например: MET01_Gold. Здесь MET01 - идентификатор. После подчеркивания могут идти любые уточнения для удобства.

Так же каждый материал сцены должен иметь фейкового юзера, чтобы отличать их от загруженных при импорте obj.


Коррекция размеров и положения импортированного меша
-
Значения масштаба задаются в относительных единицах

Значения смещения задаются в единицах сцены.

Значения углов поворота задаются в градусах.

Установка материала для меша с гравировкой
-
Первый прооход рендера - без гравировки.

Для первого прохода на меш с гравировкой должен назначаться материал без гравировки. Это достигается соответствием идентификаторов для материала из obj файла и материала без гравировки.

Для второго прохода на меш с гравировкой назначается материал с текстурой (собственно гравировкой).
В этом материале должен быть нод texture с именем Gravi_text, в который будет заноситься имя текстуры с гравировкой.

Имя текстуры с гравировкой должно всегда начинаться с текста из параметров options - gravitextureid

Имя меша с гравировкой не должно встречаться в именах других мешей (даже входить в них не должно) т.к. меш с гравировкой ищется по вхождению (чтобы скомпенсировать name.00x при имерорте мешей с одинаковым именем)
